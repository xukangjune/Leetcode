"""
è¿˜æ˜¯çœ‹äººå®¶çš„è§£æ³•åšçš„ï¼Œéžå¸¸å·§å¦™ã€‚è¿˜æœ‰ä¸€ç‚¹æˆ‘ç†è§£é”™äº†ï¼Œè¿™é‡Œçš„å­æ•°ç»„åº”è¯¥æ˜¯åœ¨åŽŸæ•°ç»„ä¸­è¦è¿žç»­çš„ï¼Œè¿™æ ·å°±å¥½åŠžå¤šäº†ã€‚å¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•ã€‚
1ã€ç”±äºŽæ˜¯è¦è¿žç»­çš„ï¼Œå¯ä»¥å…ˆå°†diff_1 = A[1] - A[0]å­˜ä¸‹æ¥ï¼Œç„¶åŽä»Ž2å¼€å§‹éåŽ†æ•°ç»„ï¼Œå¦‚æžœdiff_2 = A[i] - A[i-1],ç­‰äºŽdiff_1,è¯´æ˜Žå¯ä»¥æž„æˆç­‰å·®æ•°åˆ—ã€‚
è¿™æ—¶å€™è¯è¦å€ŸåŠ©dpçš„å¸®åŠ©ï¼Œdpå¯ä»¥çœ‹æˆæ˜¯ä¸Šä¸€ä¸ªä½ç½®èƒ½å¤Ÿæž„æˆçš„ç­‰å·®æ•°åˆ—çš„æ•°é‡ï¼Œæ‰€ä»¥å¼€å§‹ä¸º0ã€‚ç„¶åŽæ¯æ¬¡ç­‰å·®æ•°åˆ—å¢žåŠ ä¸€ä¸ªæ•°æ—¶ï¼Œå…ˆå°†dp+1ï¼Œç„¶åŽåŠ åˆ°retä¸Šã€‚è¦æ³¨æ„
å¦‚æžœç­‰å·®æ•°åˆ—çš„é•¿åº¦ä¸€ç›´åœ¨å¢žåŠ ï¼Œé‚£ä¹ˆdpçš„æ•°ä¼šä¸€ç›´å¢žå¤§ã€‚åˆ°æœ€åŽï¼Œå¦‚æžœä¸æ»¡è¶³diff_2 != diff_1æ—¶ï¼Œdpå½’é›¶å¹¶ä¸”diff_1= diff_2,æŽ¥ç€å‘ä¸‹éåŽ†ã€‚
2ã€ä¸ç”¨æ¯æ¬¡æ•°ç»„æ·»åŠ ä¸€ä¸ªæ•°å°±è®¡ç®—ä¸€æ¬¡ï¼Œå¯ä»¥å…ˆè®¡ç®—æŸä¸€æ®µç­‰å·®æ•°åˆ—çš„é•¿åº¦ï¼Œç„¶åŽç›´æŽ¥ä¾é é•¿åº¦æ¥è®¡ç®—è¿™æ®µç­‰å·®æ•°åˆ—èƒ½å¶æ‹†æˆçš„å­æ•°åˆ—çš„æ•°ç›®å°±ðŸ†—äº†ã€‚
"""
class Solution:
    def numberOfArithmeticSlices(self, A):
        n = len(A)
        ret = 0
        if n > 2:
            diff_1 = A[1] - A[0]
            dp = 0
            for i in range(2, len(A)):
                diff_2 = A[i] - A[i-1]
                if diff_1 == diff_2:
                    dp += 1
                    ret += dp
                else:
                    diff_1 = diff_2
                    dp = 0
        return ret


solve = Solution()
A = [1,1,1,3]
print(solve.numberOfArithmeticSlices(A))